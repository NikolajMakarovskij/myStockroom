{% extends "base_generic.html" %}

{% block content %}
<div class="col-sm-12 table-responsive-xxl"> 
    <caption>
      <h1 style="text-align:center" >Список сотрудников</h1>
    </caption> 
    {% if employee_list %}
    {% for m in menu %}
    {% endfor %}
    <table class="table align-middle table-hover" style="text-align:center">
      <thead>
        <tr>
          <th scope="col">ФИО</th>
          <th scope="col">Раб. место</th>
          <th scope="col">Должность</th>
          <th scope="col">Отдел</th>
          <th scope="col">Кабинет</th>
          <th scope="col">Этаж</th>
          <th scope="col">Здание</th>
        </tr>
      </thead>
    <tbody style="text-align:center">
      {% for Employee in employee_list %}
      <tr>
        <td>{{ Employee.name }}</td>
        <td>{{ Employee.Workplace.name }}</td>
        <td>{{ Employee.post.name }}</td>
        <td>{{ Employee.departament.name }}</td>
        <td>{{ Employee.Workplace.Room.name }}</td>
        <td>{{ Employee.Workplace.Room.Floor.name }}</td>
        <td>{{ Employee.Workplace.Room.Floor.Building.name }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
    {% else %}
    <table class="table align-middle table-hover" style="text-align:center">
      <thead> 
        <tr>
          <th scope="col" style="font-size: 32px;">Сотрудники не обнаружены</th>
        </tr>
      </thead>
    </table>
    {% endif %}
  </div>
    <div class="mtop">
        {% block pagination %}
        {% if is_paginated %}
            <nav>
                <ul class="pagination justify-content-center">
                    <li class="page-item">
                        {% if page_obj.has_previous %}
                        <a class="page-link" href="{{ request.path }}?page={{ page_obj.previous_page_number }}">Предыдущая</a>
                        {% endif %}
                    </li>
                    {% for p in page_obj.paginator.page_range %}
                    {% if p == page_obj.number %}
                    <li class="page-item active" aria-current="page" style="background-color: black;">
                        <a class="page-link" href="{{ request.path }}?page={{ p }}">{{ p }}</a>
                    </li>
                    {% else %}
                      <li class="page-item" >
                        <a class="page-link" href="{{ request.path }}?page={{ p }}">{{ p }}</a>
                      </li>
                    {% endif %}
                    {% endfor %}
                    <li class="page-item">
                        {% if page_obj.has_next %}
                        <a class="page-link" href="{{ request.path }}?page={{ page_obj.next_page_number }}">Следующая</a>
                        {% endif %}
                    </li>
                </ul>
        {% endif %}
      {% endblock %}  
      </div>
{% endblock %}
 